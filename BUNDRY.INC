;-----------------------------------------------------------------------------
;  MACRO CHECK IF THE SHAPE IS WITHIN BOUNDARIES 
;-----------------------------------------------------------------------------
WITHIN_BOUNDARIES MACRO STARTPOSX, STARTPOSY, SIZE, RESULT
   LOCAL UPPER_CHECK, LOWERCHECK, LEFTCHECK, RIGHTCHECK, WITHINRANGE
   PUSH AX
   PUSH BX
   PUSH CX
   PUSH DX


   MOV RESULT, 1           ;FIRST ASSUME THAT THE SHAPE IS WITHIN BOUNDARIES
   UPPER_CHECK:
   ;{ CHECK FOR THE BOUNDARIES ABOVE
      MOV CX, STARTPOSY
      MOV BX, UPPERBOUND_Y
      cmp CX, BX
      ;;CMP CX, 0  
      JGE LOWERCHECK
      MOV RESULT, 0   
   ;}
   
   LOWERCHECK:
   ;{CHECK FOR BOUNDARIES BELOW
      MOV CX, STARTPOSY
      ADD CX, SIZE    ;GET THE Y COORDINATE OF THE LOWEST POINT OF THE TANK
      MOV BX, LOWERBOUND_Y
      cmp BX, CX
      ;CMP BX, 0  ;CURRENT Y DISTANCE TO THE BOUNDARY VS REMAINING DISTANCE TO THE BOUNDARY
      JGE RIGHTCHECK
      MOV RESULT, 0
   ;}  

   RIGHTCHECK:
   ;{CHECK FOR BOUNDARIES ON THE RIGHT
      MOV CX, STARTPOSX
      ADD CX, SIZE    ;GET THE Y COORDINATE OF THE LOWEST POINT OF THE TANK
      MOV BX, RIGHTBOUND_X
      cmp BX, CX
     ; CMP BX, 0  ;CURRENT Y DISTANCE TO THE BOUNDARY VS REMAINING DISTANCE TO THE BOUNDARY
      JGE LEFTCHECK
      MOV RESULT, 0
   ;} 

   LEFTCHECK:
   ;{ CHECK FOR THE BOUNDARIES ON THE LEFT
      MOV CX, STARTPOSX
      MOV BX, LEFTBOUND_X
      cmp CX, BX
     ; CMP CX, 0  
      JGE WITHINRANGE
      MOV RESULT, 0   
   ;} 

   WITHINRANGE:
   POP DX
   POP CX
   POP BX
   POP AX
ENDM WITHIN_BOUNDARIES 
